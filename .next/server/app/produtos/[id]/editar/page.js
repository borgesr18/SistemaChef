(()=>{var e={};e.id=2163,e.ids=[2163],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},20091:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var o=a(50482),t=a(69108),i=a(62563),s=a.n(i),n=a(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(r,d);let l=["",{children:["produtos",{children:["[id]",{children:["editar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,85664)),"/workspaces/SistemaChef/src/app/produtos/[id]/editar/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,57793)),"/workspaces/SistemaChef/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/workspaces/SistemaChef/src/app/produtos/[id]/editar/page.tsx"],c="/produtos/[id]/editar/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/produtos/[id]/editar/page",pathname:"/produtos/[id]/editar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},24897:(e,r,a)=>{Promise.resolve().then(a.bind(a,94797))},94797:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>f});var o=a(95344),t=a(3729),i=a(8428),s=a(79956),n=a(10342),d=a(98649),l=a(34034),u=a(48806),c=a(5175),m=a(6158),p=a(42283);function f(){let e=(0,i.useParams)(),r=(0,i.useRouter)(),{obterProdutoPorId:a,atualizarProduto:f,isLoading:g}=(0,u.U)(),{categorias:b}=(0,m.D)(),{unidades:h}=(0,c.x)(),[N,x]=(0,t.useState)(!1),[y,v]=(0,t.useState)(!1),[E,j]=(0,t.useState)("");(0,t.useEffect)(()=>{if(!E)return;let e=setTimeout(()=>j(""),3e3);return()=>clearTimeout(e)},[E]);let w=e.id,[S,T]=(0,t.useState)({nome:"",categoria:"",marca:"",unidadeMedida:"",preco:"",fornecedor:"",pesoEmbalagem:"",infoNutricional:{calorias:"",carboidratos:"",proteinas:"",gordurasTotais:"",gordurasSaturadas:"",gordurasTrans:"",fibras:"",sodio:""}}),[C,P]=(0,t.useState)({});if((0,t.useEffect)(()=>{if(g)return;let e=a(w);if(!e){r.push("/produtos");return}T({nome:e.nome,categoria:e.categoria||"",marca:e.marca||"",unidadeMedida:e.unidadeMedida,preco:e.preco?.toString()||"",fornecedor:e.fornecedor,pesoEmbalagem:e.pesoEmbalagem?.toString()||"",infoNutricional:{calorias:e.infoNutricional?.calorias?.toString()||"",carboidratos:e.infoNutricional?.carboidratos?.toString()||"",proteinas:e.infoNutricional?.proteinas?.toString()||"",gordurasTotais:e.infoNutricional?.gordurasTotais?.toString()||"",gordurasSaturadas:e.infoNutricional?.gordurasSaturadas?.toString()||"",gordurasTrans:e.infoNutricional?.gordurasTrans?.toString()||"",fibras:e.infoNutricional?.fibras?.toString()||"",sodio:e.infoNutricional?.sodio?.toString()||""}}),v(!!e.infoNutricional)},[g,w]),g)return o.jsx("p",{children:"Carregando..."});let k=e=>{let{name:r,value:a}=e.target;if(r.includes(".")){let[e,o]=r.split(".");T(r=>({...r,[e]:{...r[e],[o]:a}}))}else T(e=>({...e,[r]:a}))},q=()=>{let e={};if(S.nome||(e.nome="Nome \xe9 obrigat\xf3rio"),S.categoria||(e.categoria="Categoria \xe9 obrigat\xf3ria"),S.unidadeMedida||(e.unidadeMedida="Unidade de medida \xe9 obrigat\xf3ria"),S.preco?(isNaN(Number(S.preco))||0>=Number(S.preco))&&(e.preco="Pre\xe7o deve ser um n\xfamero positivo"):e.preco="Pre\xe7o \xe9 obrigat\xf3rio",S.fornecedor||(e.fornecedor="Fornecedor \xe9 obrigat\xf3rio"),(!S.pesoEmbalagem||isNaN(Number(S.pesoEmbalagem))||0>=Number(S.pesoEmbalagem))&&(e.pesoEmbalagem="Informe o peso por embalagem"),y){let r=S.infoNutricional;r.calorias&&isNaN(Number(r.calorias))&&(e["infoNutricional.calorias"]="Deve ser um n\xfamero"),r.carboidratos&&isNaN(Number(r.carboidratos))&&(e["infoNutricional.carboidratos"]="Deve ser um n\xfamero"),r.proteinas&&isNaN(Number(r.proteinas))&&(e["infoNutricional.proteinas"]="Deve ser um n\xfamero"),r.gordurasTotais&&isNaN(Number(r.gordurasTotais))&&(e["infoNutricional.gordurasTotais"]="Deve ser um n\xfamero"),r.gordurasSaturadas&&isNaN(Number(r.gordurasSaturadas))&&(e["infoNutricional.gordurasSaturadas"]="Deve ser um n\xfamero"),r.gordurasTrans&&isNaN(Number(r.gordurasTrans))&&(e["infoNutricional.gordurasTrans"]="Deve ser um n\xfamero"),r.fibras&&isNaN(Number(r.fibras))&&(e["infoNutricional.fibras"]="Deve ser um n\xfamero"),r.sodio&&isNaN(Number(r.sodio))&&(e["infoNutricional.sodio"]="Deve ser um n\xfamero")}return P(e),0===Object.keys(e).length};return(0,o.jsxs)("div",{className:"space-y-6",children:[o.jsx(p.Z,{message:E,onClose:()=>j("")}),o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Editar Insumo"}),o.jsx("form",{onSubmit:e=>{if(e.preventDefault(),q()){x(!0);try{let e={...S,preco:Number(S.preco),pesoEmbalagem:Number(S.pesoEmbalagem),infoNutricional:y?{calorias:Number(S.infoNutricional.calorias)||0,carboidratos:Number(S.infoNutricional.carboidratos)||0,proteinas:Number(S.infoNutricional.proteinas)||0,gordurasTotais:Number(S.infoNutricional.gordurasTotais)||0,gordurasSaturadas:Number(S.infoNutricional.gordurasSaturadas)||0,gordurasTrans:Number(S.infoNutricional.gordurasTrans)||0,fibras:Number(S.infoNutricional.fibras)||0,sodio:Number(S.infoNutricional.sodio)||0}:void 0};f(w,e),r.push(`/produtos/${w}`)}catch(e){console.error("Erro ao atualizar produto:",e),j("Erro ao atualizar produto")}finally{x(!1)}}},children:(0,o.jsxs)(s.Z,{children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(n.default,{label:"Nome do Insumo *",name:"nome",value:S.nome,onChange:k,error:C.nome,placeholder:"Ex: Farinha de Trigo"}),o.jsx(d.Z,{label:"Categoria *",name:"categoria",value:S.categoria,onChange:k,options:b.map(e=>({value:e.id,label:e.nome})).sort((e,r)=>e.label.localeCompare(r.label)),error:C.categoria}),o.jsx(n.default,{label:"Marca",name:"marca",value:S.marca,onChange:k,placeholder:"Ex: Dona Benta"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(d.Z,{label:"Unidade de Medida *",name:"unidadeMedida",value:S.unidadeMedida,onChange:k,options:h.map(e=>({value:e.id,label:e.nome})).sort((e,r)=>e.label.localeCompare(r.label)),error:C.unidadeMedida}),o.jsx(n.default,{label:"Pre\xe7o (R$) *",name:"preco",type:"number",step:"0.01",min:"0",value:S.preco,onChange:k,error:C.preco,placeholder:"Ex: 5.99"}),o.jsx(n.default,{label:"Fornecedor *",name:"fornecedor",value:S.fornecedor,onChange:k,error:C.fornecedor,placeholder:"Ex: Distribuidora Alimentos"}),o.jsx(n.default,{label:"Peso/Volume por Embalagem (g ou ml) *",name:"pesoEmbalagem",type:"number",min:"0",value:S.pesoEmbalagem,onChange:k,error:C.pesoEmbalagem,placeholder:"Ex: 1000"})]}),(0,o.jsxs)("div",{className:"border-t pt-4",children:[(0,o.jsxs)("div",{className:"flex items-center mb-4",children:[o.jsx("input",{type:"checkbox",id:"mostrarInfoNutricional",checked:y,onChange:()=>v(!y),className:"h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),o.jsx("label",{htmlFor:"mostrarInfoNutricional",className:"ml-2 text-sm font-medium text-gray-700",children:"Adicionar informa\xe7\xf5es nutricionais (por 100g/100ml)"})]}),y&&(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(n.default,{label:"Calorias (kcal)",name:"infoNutricional.calorias",type:"number",min:"0",value:S.infoNutricional.calorias,onChange:k,error:C["infoNutricional.calorias"]}),o.jsx(n.default,{label:"Carboidratos (g)",name:"infoNutricional.carboidratos",type:"number",min:"0",step:"0.1",value:S.infoNutricional.carboidratos,onChange:k,error:C["infoNutricional.carboidratos"]}),o.jsx(n.default,{label:"Prote\xednas (g)",name:"infoNutricional.proteinas",type:"number",min:"0",step:"0.1",value:S.infoNutricional.proteinas,onChange:k,error:C["infoNutricional.proteinas"]}),o.jsx(n.default,{label:"Gorduras Totais (g)",name:"infoNutricional.gordurasTotais",type:"number",min:"0",step:"0.1",value:S.infoNutricional.gordurasTotais,onChange:k,error:C["infoNutricional.gordurasTotais"]}),o.jsx(n.default,{label:"Gorduras Saturadas (g)",name:"infoNutricional.gordurasSaturadas",type:"number",min:"0",step:"0.1",value:S.infoNutricional.gordurasSaturadas,onChange:k,error:C["infoNutricional.gordurasSaturadas"]}),o.jsx(n.default,{label:"Gorduras Trans (g)",name:"infoNutricional.gordurasTrans",type:"number",min:"0",step:"0.1",value:S.infoNutricional.gordurasTrans,onChange:k,error:C["infoNutricional.gordurasTrans"]}),o.jsx(n.default,{label:"Fibras (g)",name:"infoNutricional.fibras",type:"number",min:"0",step:"0.1",value:S.infoNutricional.fibras,onChange:k,error:C["infoNutricional.fibras"]}),o.jsx(n.default,{label:"S\xf3dio (mg)",name:"infoNutricional.sodio",type:"number",min:"0",step:"0.1",value:S.infoNutricional.sodio,onChange:k,error:C["infoNutricional.sodio"]})]})]})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx(l.default,{type:"button",variant:"outline",onClick:()=>r.push(`/produtos/${w}`),children:"Cancelar"}),o.jsx(l.default,{type:"submit",variant:"primary",isLoading:N,children:"Atualizar Insumo"})]})]})})]})}},79956:(e,r,a)=>{"use strict";a.d(r,{Z:()=>t});var o=a(95344);a(3729);let t=({children:e,title:r,className:a="",footer:t})=>(0,o.jsxs)("div",{className:`card overflow-hidden ${a}`,children:[r&&o.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--cor-borda)"},children:o.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--cor-texto-principal)"},children:r})}),o.jsx("div",{className:"p-6",children:e}),t&&o.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t",style:{borderColor:"var(--cor-borda)"},children:t})]})},10342:(e,r,a)=>{"use strict";a.d(r,{I:()=>s});var o=a(95344),t=a(3729),i=a(11453);let s=t.forwardRef(({className:e,type:r,...a},t)=>o.jsx("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...a}));s.displayName="Input"},98649:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var o=a(95344);let t=(0,a(3729).forwardRef)(({label:e,error:r,helperText:a,options:t,className:i="",...s},n)=>(0,o.jsxs)("div",{className:"mb-4",children:[e&&o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,o.jsxs)("select",{ref:n,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 
            ${r?"border-red-500":"border-gray-300"} 
            ${i}`,...s,children:[o.jsx("option",{value:"",children:"Selecione..."}),t.map(e=>o.jsx("option",{value:e.value,children:e.label},e.value))]}),r&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:r}),a&&!r&&o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a})]}));t.displayName="Select";let i=t},42283:(e,r,a)=>{"use strict";a.d(r,{Z:()=>i});var o=a(95344),t=a(3729);let i=({message:e,onClose:r})=>((0,t.useEffect)(()=>{if(!e)return;let a=setTimeout(r,3e3);return()=>clearTimeout(a)},[e,r]),e)?o.jsx("div",{className:"fixed top-4 right-4 bg-[var(--cor-sucesso)] text-white px-4 py-2 rounded shadow",children:e}):null},94287:(e,r,a)=>{"use strict";a.d(r,{g:()=>o,x:()=>t});let o=()=>{let e=document.cookie?.split("; ").find(e=>e.startsWith("sb-access-token="))?.split("=")[1];return{Authorization:e?`Bearer ${e}`:""}},t={get:async e=>await fetch(e,{method:"GET",headers:{...o(),"Content-Type":"application/json"}}),post:async(e,r)=>await fetch(e,{method:"POST",headers:{...o(),"Content-Type":"application/json"},body:JSON.stringify(r)}),put:async(e,r)=>await fetch(e,{method:"PUT",headers:{...o(),"Content-Type":"application/json"},body:JSON.stringify(r)}),delete:async e=>await fetch(e,{method:"DELETE",headers:{...o(),"Content-Type":"application/json"}})}},6158:(e,r,a)=>{"use strict";a.d(r,{D:()=>n,u:()=>d});var o=a(3729),t=a(94287);let i=async()=>{try{console.log("\uD83D\uDD0D Buscando categorias de produtos...");let e=await fetch("/api/categorias",{headers:(0,t.g)()});if(console.log(`ðŸ“¡ Response status: ${e.status}`),!e.ok){let r=await e.text();throw console.error(`âŒ Erro na API categorias: ${e.status} - ${r}`),Error(`Erro ao buscar categorias: ${e.status}`)}let r=await e.json();return console.log(`âœ… Categorias carregadas: ${r.length}`),r}catch(e){return console.error("âŒ Erro ao buscar categorias da API:",e),[]}},s=[{id:"hortifruti",nome:"Hortifruti"},{id:"carnes",nome:"Carnes"},{id:"laticinios",nome:"Latic\xednios"},{id:"graos",nome:"Gr\xe3os e Cereais"},{id:"bebidas",nome:"Bebidas"},{id:"temperos",nome:"Temperos"},{id:"outros",nome:"Outros"}],n=()=>{let[e,r]=(0,o.useState)([]),[a,n]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{try{n(!0);let e=await i();if(0===e.length){for(let r of s)try{if(!e.find(e=>e.nome===r.nome)){let a=await fetch("/api/categorias",{method:"POST",headers:(0,t.g)(),body:JSON.stringify({nome:r.nome})});if(a.ok){let r=await a.json();e.push(r)}else 409===a.status&&console.log(`Categoria '${r.nome}' j\xe1 existe, pulando...`)}}catch(e){console.error("Erro ao criar categoria padr\xe3o:",e)}e=await i()}console.log("Categorias loaded:",e?.length||0),r(e)}catch(e){console.error("Erro ao carregar categorias:",e),r([])}finally{n(!1)}})()},[]);let d=async a=>{try{let o=await fetch("/api/categorias",{method:"POST",headers:(0,t.g)(),body:JSON.stringify({nome:a})});if(!o.ok)throw Error("Erro ao criar categoria");let i=await o.json(),s=[...e,i];return r(s),i}catch(e){return console.error("Erro ao adicionar categoria:",e),null}},l=async(a,o)=>{try{let i=await fetch(`/api/categorias/${a}`,{method:"PUT",headers:(0,t.g)(),body:JSON.stringify({nome:o})});if(!i.ok)throw Error("Erro ao atualizar categoria");let s=await i.json(),n=e.map(e=>e.id===a?s:e);return r(n),s}catch(e){return console.error("Erro ao atualizar categoria:",e),null}},u=async a=>{try{if(!(await fetch(`/api/categorias/${a}`,{method:"DELETE",headers:(0,t.g)()})).ok)throw Error("Erro ao deletar categoria");let o=e.filter(e=>e.id!==a);return r(o),!0}catch(e){return console.error("Erro ao remover categoria:",e),!1}};return{categorias:e,isLoading:a,adicionarCategoria:d,atualizarCategoria:l,removerCategoria:u,obterCategoriaPorId:r=>e.find(e=>e.id===r)}},d=async e=>{if(!e)return"N\xe3o informado";let r=(await i()).find(r=>r.id===e);return r?r.nome:e}},48806:(e,r,a)=>{"use strict";a.d(r,{U:()=>s,k:()=>i});var o=a(3729),t=a(94287);let i=async()=>{try{let e=await fetch("/api/produtos",{headers:(0,t.g)()});if(!e.ok)throw Error("Erro ao buscar produtos");return(await e.json()).map(e=>({id:e.id,nome:e.nome,categoriaId:e.categoria,categoriaNome:e.categoriaRef?.nome,marca:e.marca,unidadeId:e.unidadeMedida,unidadeNome:e.unidadeRef?.nome,preco:Number(e.preco)||0,precoUnitario:e.precoUnitario?Number(e.precoUnitario):void 0,fornecedor:e.fornecedor,pesoEmbalagem:e.pesoEmbalagem?Number(e.pesoEmbalagem):void 0,imagem:e.imagem,ultimaMovimentacao:e.ultimaMovimentacao,infoNutricional:e.infoNutricional?{calorias:Number(e.infoNutricional.calorias),carboidratos:Number(e.infoNutricional.carboidratos),proteinas:Number(e.infoNutricional.proteinas),gordurasTotais:Number(e.infoNutricional.gordurasTotais),gordurasSaturadas:Number(e.infoNutricional.gordurasSaturadas),gordurasTrans:Number(e.infoNutricional.gordurasTrans),fibras:Number(e.infoNutricional.fibras),sodio:Number(e.infoNutricional.sodio)}:void 0}))}catch(e){return console.error("Erro ao buscar produtos da API:",e),[]}},s=()=>{let[e,r]=(0,o.useState)([]),[a,s]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(async()=>{s(!0),r(await i()),s(!1)})()},[]),{produtos:e,isLoading:a,adicionarProduto:async e=>{try{let a={...e,precoUnitario:e.pesoEmbalagem?e.preco/e.pesoEmbalagem:void 0},o=await fetch("/api/produtos",{method:"POST",headers:{...(0,t.g)(),"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw Error("Erro ao adicionar produto");let i=await o.json();return r(e=>[...e,i]),i}catch(e){return console.error("Erro ao adicionar produto:",e),null}},atualizarProduto:async(e,a)=>{try{let o={...a,precoUnitario:a.pesoEmbalagem?a.preco/a.pesoEmbalagem:void 0},i=await fetch(`/api/produtos/${e}`,{method:"PUT",headers:{...(0,t.g)(),"Content-Type":"application/json"},body:JSON.stringify(o)});if(!i.ok)throw Error("Erro ao atualizar produto");let s=await i.json();return r(r=>r.map(r=>r.id===e?s:r)),s}catch(e){return console.error("Erro ao atualizar produto:",e),null}},removerProduto:async e=>{try{if(!(await fetch(`/api/produtos/${e}`,{method:"DELETE",headers:(0,t.g)()})).ok)throw Error("Erro ao remover produto");return r(r=>r.filter(r=>r.id!==e)),!0}catch(e){return console.error("Erro ao remover produto:",e),!1}},obterProdutoPorId:r=>e.find(e=>e.id===r)}}},5175:(e,r,a)=>{"use strict";a.d(r,{x:()=>n});var o=a(3729),t=a(94287);let i=async()=>{try{let e=await fetch("/api/unidades",{headers:(0,t.g)()});if(!e.ok)return s;let r=await e.json(),a=[...s];return r.forEach(e=>{a.find(r=>r.id===e.id)||a.push(e)}),a}catch(e){return console.error("Erro ao buscar unidades da API:",e),s}},s=[{id:"g",nome:"Gramas (g)"},{id:"kg",nome:"Quilogramas (kg)"},{id:"ml",nome:"Mililitros (ml)"},{id:"l",nome:"Litros (l)"},{id:"un",nome:"Unidade"},{id:"cx",nome:"Caixa"},{id:"pct",nome:"Pacote"}],n=()=>{let[e,r]=(0,o.useState)([]),[a,n]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(async()=>{try{n(!0);let e=await i();console.log("Unidades loaded:",e?.length||0),r(e)}catch(e){console.error("Erro ao carregar unidades de medida:",e),r([])}finally{n(!1)}})()},[]);let d=async(a,o)=>{try{if(s.find(e=>e.id===a))throw Error("J\xe1 existe uma unidade padr\xe3o com esta sigla");let i=await fetch("/api/unidades",{method:"POST",headers:(0,t.g)(),body:JSON.stringify({id:a,nome:o})});if(!i.ok)throw Error("Erro ao criar unidade");let n=await i.json(),d=[...e,n];return r(d),n}catch(e){return console.error("Erro ao adicionar unidade:",e),null}},l=async(a,o)=>{try{if(s.find(e=>e.id===a))throw Error("N\xe3o \xe9 poss\xedvel editar unidades padr\xe3o do sistema");let i=await fetch(`/api/unidades/${a}`,{method:"PUT",headers:(0,t.g)(),body:JSON.stringify({nome:o})});if(!i.ok)throw Error("Erro ao atualizar unidade");let n=await i.json(),d=e.map(e=>e.id===a?n:e);return r(d),n}catch(e){return console.error("Erro ao atualizar unidade:",e),null}},u=async a=>{try{if(s.find(e=>e.id===a))throw Error("N\xe3o \xe9 poss\xedvel deletar unidades padr\xe3o do sistema");if(!(await fetch(`/api/unidades/${a}`,{method:"DELETE",headers:(0,t.g)()})).ok)throw Error("Erro ao deletar unidade");let o=e.filter(e=>e.id!==a);return r(o),!0}catch(e){return console.error("Erro ao remover unidade:",e),!1}};return{unidades:e,isLoading:a,adicionarUnidade:d,atualizarUnidade:l,removerUnidade:u,obterUnidadePorId:r=>e.find(e=>e.id===r)}}},85664:(e,r,a)=>{"use strict";a.r(r),a.d(r,{$$typeof:()=>i,__esModule:()=>t,default:()=>s});let o=(0,a(86843).createProxy)(String.raw`/workspaces/SistemaChef/src/app/produtos/[id]/editar/page.tsx`),{__esModule:t,$$typeof:i}=o,s=o.default}};var r=require("../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),o=r.X(0,[1638,782,337,6408,5413],()=>a(20091));module.exports=o})();