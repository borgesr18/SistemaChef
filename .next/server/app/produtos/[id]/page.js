(()=>{var e={};e.id=9401,e.ids=[9401],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},8553:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>l,routeModule:()=>p,tree:()=>c});var a=t(50482),s=t(69108),o=t(62563),i=t.n(o),n=t(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let c=["",{children:["produtos",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,31938)),"/workspaces/SistemaChef/src/app/produtos/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,57793)),"/workspaces/SistemaChef/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/workspaces/SistemaChef/src/app/produtos/[id]/page.tsx"],m="/produtos/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/produtos/[id]/page",pathname:"/produtos/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},12269:(e,r,t)=>{Promise.resolve().then(t.bind(t,53115))},53115:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var a=t(95344);t(3729);var s=t(8428),o=t(79956),i=t(34034),n=t(48806);function d(){var e;let r=(0,s.useParams)(),t=(0,s.useRouter)(),{obterProdutoPorId:d,removerProduto:c}=(0,n.U)(),l=r.id,m=d(l);return m?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Detalhes do Insumo"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(i.default,{variant:"outline",onClick:()=>t.push("/produtos"),children:"Voltar"}),a.jsx(i.default,{variant:"primary",onClick:()=>t.push(`/produtos/${l}/editar`),children:"Editar"}),a.jsx(i.default,{variant:"danger",onClick:()=>{confirm("Tem certeza que deseja remover este produto?")&&(c(l),t.push("/produtos"))},children:"Remover"})]})]}),a.jsx(o.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Nome do Insumo"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:m.nome})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:(0,n.obterLabelCategoria)(m.categoria)})]}),m.marca&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Marca"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:m.marca})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Unidade de Medida"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:m.unidadeMedida})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pre\xe7o"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:(e=m.preco,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e))})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Fornecedor"}),a.jsx("p",{className:"mt-1 text-lg font-medium text-gray-900",children:m.fornecedor})]})]}),m.infoNutricional&&(0,a.jsxs)("div",{className:"border-t pt-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informa\xe7\xf5es Nutricionais (por 100g/100ml)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Calorias"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.calorias," kcal"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Carboidratos"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.carboidratos," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Prote\xednas"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.proteinas," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Totais"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.gordurasTotais," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Saturadas"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.gordurasSaturadas," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Trans"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.gordurasTrans," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fibras"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.fibras," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"S\xf3dio"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[m.infoNutricional.sodio," mg"]})]})]})]})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Insumo n\xe3o encontrado"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"O produto que voc\xea est\xe1 procurando n\xe3o existe ou foi removido."}),a.jsx(i.default,{variant:"primary",onClick:()=>t.push("/produtos"),children:"Voltar para Insumos"})]})}},79956:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});var a=t(95344);t(3729);let s=({children:e,title:r,className:t="",footer:s})=>(0,a.jsxs)("div",{className:`card overflow-hidden ${t}`,children:[r&&a.jsx("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--cor-borda)"},children:a.jsx("h3",{className:"text-lg font-medium",style:{color:"var(--cor-texto-principal)"},children:r})}),a.jsx("div",{className:"p-6",children:e}),s&&a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t",style:{borderColor:"var(--cor-borda)"},children:s})]})},94287:(e,r,t)=>{"use strict";t.d(r,{g:()=>a,x:()=>s});let a=()=>{let e=document.cookie?.split("; ").find(e=>e.startsWith("sb-access-token="))?.split("=")[1];return{Authorization:e?`Bearer ${e}`:""}},s={get:async e=>await fetch(e,{method:"GET",headers:{...a(),"Content-Type":"application/json"}}),post:async(e,r)=>await fetch(e,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(r)}),put:async(e,r)=>await fetch(e,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(r)}),delete:async e=>await fetch(e,{method:"DELETE",headers:{...a(),"Content-Type":"application/json"}})}},48806:(e,r,t)=>{"use strict";t.d(r,{U:()=>i,k:()=>o});var a=t(3729),s=t(94287);let o=async()=>{try{let e=await fetch("/api/produtos",{headers:(0,s.g)()});if(!e.ok)throw Error("Erro ao buscar produtos");return(await e.json()).map(e=>({id:e.id,nome:e.nome,categoriaId:e.categoria,categoriaNome:e.categoriaRef?.nome,marca:e.marca,unidadeId:e.unidadeMedida,unidadeNome:e.unidadeRef?.nome,preco:Number(e.preco)||0,precoUnitario:e.precoUnitario?Number(e.precoUnitario):void 0,fornecedor:e.fornecedor,pesoEmbalagem:e.pesoEmbalagem?Number(e.pesoEmbalagem):void 0,imagem:e.imagem,ultimaMovimentacao:e.ultimaMovimentacao,infoNutricional:e.infoNutricional?{calorias:Number(e.infoNutricional.calorias),carboidratos:Number(e.infoNutricional.carboidratos),proteinas:Number(e.infoNutricional.proteinas),gordurasTotais:Number(e.infoNutricional.gordurasTotais),gordurasSaturadas:Number(e.infoNutricional.gordurasSaturadas),gordurasTrans:Number(e.infoNutricional.gordurasTrans),fibras:Number(e.infoNutricional.fibras),sodio:Number(e.infoNutricional.sodio)}:void 0}))}catch(e){return console.error("Erro ao buscar produtos da API:",e),[]}},i=()=>{let[e,r]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{i(!0),r(await o()),i(!1)})()},[]),{produtos:e,isLoading:t,adicionarProduto:async e=>{try{let t={...e,precoUnitario:e.pesoEmbalagem?e.preco/e.pesoEmbalagem:void 0},a=await fetch("/api/produtos",{method:"POST",headers:{...(0,s.g)(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Erro ao adicionar produto");let o=await a.json();return r(e=>[...e,o]),o}catch(e){return console.error("Erro ao adicionar produto:",e),null}},atualizarProduto:async(e,t)=>{try{let a={...t,precoUnitario:t.pesoEmbalagem?t.preco/t.pesoEmbalagem:void 0},o=await fetch(`/api/produtos/${e}`,{method:"PUT",headers:{...(0,s.g)(),"Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw Error("Erro ao atualizar produto");let i=await o.json();return r(r=>r.map(r=>r.id===e?i:r)),i}catch(e){return console.error("Erro ao atualizar produto:",e),null}},removerProduto:async e=>{try{if(!(await fetch(`/api/produtos/${e}`,{method:"DELETE",headers:(0,s.g)()})).ok)throw Error("Erro ao remover produto");return r(r=>r.filter(r=>r.id!==e)),!0}catch(e){return console.error("Erro ao remover produto:",e),!1}},obterProdutoPorId:r=>e.find(e=>e.id===r)}}},31938:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>o,__esModule:()=>s,default:()=>i});let a=(0,t(86843).createProxy)(String.raw`/workspaces/SistemaChef/src/app/produtos/[id]/page.tsx`),{__esModule:s,$$typeof:o}=a,i=a.default}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,782,337,6408,5413],()=>t(8553));module.exports=a})();