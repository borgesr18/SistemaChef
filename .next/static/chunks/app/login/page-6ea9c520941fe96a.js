(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{27841:function(e,t,r){Promise.resolve().then(r.bind(r,60378))},60378:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(3827),n=r(64090),a=r(83779),c=r(32278),o=r(66651);function i(){let{login:e,loading:t,user:r}=(0,a.useAuth)(),[i,u]=(0,n.useState)(""),[l,d]=(0,n.useState)(""),[m,h]=(0,n.useState)(""),x=async t=>{t.preventDefault(),h("");try{await e(i,l)}catch(e){h(e.message||"Erro ao fazer login")}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-md w-full max-w-sm",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Login"}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,s.jsx)(c.Input,{label:"Email",type:"email",value:i,onChange:e=>u(e.target.value),required:!0}),(0,s.jsx)(c.Input,{label:"Senha",type:"password",value:l,onChange:e=>d(e.target.value),required:!0}),m&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:m}),(0,s.jsx)(o.Button,{type:"submit",isLoading:t,fullWidth:!0,children:"Entrar"})]})]})})}},66651:function(e,t,r){"use strict";var s=r(3827);r(64090),t.Z=e=>{let{children:t,variant:r="primary",size:n="md",isLoading:a=!1,fullWidth:c=!1,className:o="",disabled:i,...u}=e,l=i||a?"opacity-50 cursor-not-allowed":"";return(0,s.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-[var(--cor-acao)] text-white hover:brightness-90 focus:ring-[var(--cor-acao)]",secondary:"bg-[var(--cor-secundaria)] text-white hover:brightness-90 focus:ring-[var(--cor-secundaria)]",success:"bg-[var(--cor-sucesso)] text-white hover:brightness-90 focus:ring-[var(--cor-sucesso)]",danger:"bg-[var(--cor-erro)] text-white hover:brightness-90 focus:ring-[var(--cor-erro)]",outline:"bg-white text-[var(--cor-texto-principal)] border border-[var(--cor-borda)] hover:bg-gray-50 focus:ring-[var(--cor-acao)]"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n]," ").concat(c?"w-full":""," ").concat(l," ").concat(o),disabled:i||a,...u,children:[a&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})}},32278:function(e,t,r){"use strict";var s=r(3827);let n=(0,r(64090).forwardRef)((e,t)=>{let{label:r,error:n,helperText:a,className:c="",...o}=e;return(0,s.jsxs)("div",{className:"mb-4",children:[r&&(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--cor-texto-principal)"},children:r}),(0,s.jsx)("input",{ref:t,className:"w-full input ".concat(n?"border-[var(--cor-erro)]":""," ").concat(c),...o}),n&&(0,s.jsx)("p",{className:"mt-1 text-sm",style:{color:"var(--cor-erro)"},children:n}),a&&!n&&(0,s.jsx)("p",{className:"mt-1 text-sm",style:{color:"var(--cor-texto-secundario)"},children:a})]})});n.displayName="Input",t.Z=n},83779:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return i},useAuth:function(){return u}});var s=r(3827),n=r(64090),a=r(28896),c=r(47907);let o=(0,n.createContext)(void 0),i=e=>{let{children:t}=e,r=(0,c.useRouter)(),[i,u]=(0,n.useState)(null),[l,d]=(0,n.useState)(null),[m,h]=(0,n.useState)(!0),x=(0,a.createBrowserClient)("https://sutmfzcmrlqnocsusiav.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1dG1memNtcmxxbm9jc3VzaWF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1MzgwODMsImV4cCI6MjA2NjExNDA4M30.BQRo64qRNzqB_XGNeSe4jkZ8Mzzji8eUYVbS_nWw8tI");(0,n.useEffect)(()=>{(async()=>{let{data:e,error:t}=await x.auth.getSession();e.session?(d(e.session),u(e.session.user)):(d(null),u(null)),h(!1)})();let{data:e}=x.auth.onAuthStateChange((e,t)=>{d(t),u((null==t?void 0:t.user)||null)});return()=>{e.subscription.unsubscribe()}},[]);let f=async()=>{await x.auth.signOut(),u(null),d(null),r.push("/login")};return(0,s.jsx)(o.Provider,{value:{user:i,session:l,loading:m,signOut:f},children:t})},u=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[958,971,69,744],function(){return e(e.s=27841)}),_N_E=e.O()}]);