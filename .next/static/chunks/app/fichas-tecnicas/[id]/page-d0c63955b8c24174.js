(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{14795:function(e,t,r){Promise.resolve().then(r.bind(r,55573))},47907:function(e,t,r){"use strict";var a=r(15313);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},55573:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(3827),s=r(64090),i=r(47907),c=r(57418),n=r(66651),o=r(16297),l=r(36806),d=r(27742),m=r(20200);function x(){var e,t,r,x,u,h,g,f;let j=(0,i.useParams)(),p=(0,i.useRouter)(),[v,y]=(0,s.useState)(null),[N,b]=(0,s.useState)(!0),{produtos:w}=(0,d.Ug)(),{categorias:C}=(0,l.O)(),P=j.id;if((0,s.useEffect)(()=>{let e=async()=>{try{b(!0);let e=await (0,o.IO)(P);y(e)}catch(e){console.error("Erro ao carregar ficha t\xe9cnica:",e)}finally{b(!1)}};P&&e()},[P]),N)return(0,a.jsx)("div",{className:"text-center py-12",children:"Carregando..."});if(!v)return(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Ficha t\xe9cnica n\xe3o encontrada"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"A ficha t\xe9cnica que voc\xea est\xe1 procurando n\xe3o existe ou foi removida."}),(0,a.jsx)(n.Z,{variant:"primary",onClick:()=>p.push("/fichas-tecnicas"),children:"Voltar para Fichas T\xe9cnicas"})]});let k=async()=>{if(confirm("Tem certeza que deseja remover esta ficha t\xe9cnica?"))try{await (0,o.N2)(P)?p.push("/fichas-tecnicas"):alert("Erro ao remover ficha t\xe9cnica")}catch(e){console.error("Erro ao remover ficha t\xe9cnica:",e),alert("Erro ao remover ficha t\xe9cnica")}},T=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Z=e=>{if("Data n\xe3o dispon\xedvel"===e||e.includes("/"))return e;try{let t=new Date(e);if(isNaN(t.getTime()))return"Data n\xe3o dispon\xedvel";return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)}catch(e){return"Data n\xe3o dispon\xedvel"}},R=e=>{let t=w.find(t=>t.id===e);return t?t.nome:"Produto n\xe3o encontrado"},E=(e,t)=>"".concat(t," ").concat(e),D=(e,t)=>"".concat(e.toFixed(2)," ").concat(t);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Ficha T\xe9cnica"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(n.Z,{variant:"outline",onClick:()=>p.push("/fichas-tecnicas"),children:"Voltar"}),(0,a.jsx)(n.Z,{variant:"primary",onClick:()=>p.push("/fichas-tecnicas/".concat(P,"/editar")),children:"Editar"}),(0,a.jsx)(n.Z,{variant:"success",onClick:()=>p.push("/fichas-tecnicas/".concat(P,"/imprimir")),children:"Imprimir"}),(0,a.jsx)(n.Z,{variant:"danger",onClick:k,children:"Remover"})]})]}),(0,a.jsxs)(c.Z,{title:"Informa\xe7\xf5es B\xe1sicas",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Nome da Receita"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:v.nome})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:(0,l.Q)(v.categoria,C)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Tempo de Preparo"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[v.tempoPreparo," minutos"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Rendimento"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[v.rendimentoTotal," ",(0,o.vT)(v.unidadeRendimento)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Data de Cria\xe7\xe3o"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:Z(v.dataCriacao)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Data de Modifica\xe7\xe3o"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:Z(v.dataModificacao)})]})]}),v.descricao&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Descri\xe7\xe3o"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:v.descricao})]})]}),(0,a.jsx)(c.Z,{title:"Custos",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Custo Total"}),(0,a.jsx)("p",{className:"mt-1 text-xl font-medium text-gray-900",children:T(v.custoTotal)})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Custo por Kg"}),(0,a.jsx)("p",{className:"mt-1 text-xl font-medium text-gray-900",children:T(v.custoPorKg)})]})]})}),(0,a.jsx)(c.Z,{title:"Ingredientes",children:(0,a.jsx)(m.ZP,{headers:["Produto","Quantidade","Custo"],children:v.ingredientes.map((e,t)=>(0,a.jsxs)(m.SC,{children:[(0,a.jsx)(m.pj,{children:R(e.produtoId)}),(0,a.jsx)(m.pj,{children:E(e.unidade,e.quantidade)}),(0,a.jsx)(m.pj,{children:T(e.custo)})]},t))})}),(0,a.jsx)(c.Z,{title:"Modo de Preparo",children:(0,a.jsx)("div",{className:"whitespace-pre-line text-gray-700",children:v.modoPreparo})}),v.infoNutricional&&(0,a.jsx)(c.Z,{title:"Informa\xe7\xf5es Nutricionais",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Por Receita Completa"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Calorias"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(v.infoNutricional.calorias,"kcal")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Carboidratos"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(v.infoNutricional.carboidratos,"g")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Prote\xednas"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(v.infoNutricional.proteinas,"g")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Totais"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(v.infoNutricional.gordurasTotais,"g")})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Por Por\xe7\xe3o"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Calorias"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(null!==(u=null===(e=v.infoNutricionalPorcao)||void 0===e?void 0:e.calorias)&&void 0!==u?u:0,"kcal")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Carboidratos"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(null!==(h=null===(t=v.infoNutricionalPorcao)||void 0===t?void 0:t.carboidratos)&&void 0!==h?h:0,"g")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Prote\xednas"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(null!==(g=null===(r=v.infoNutricionalPorcao)||void 0===r?void 0:r.proteinas)&&void 0!==g?g:0,"g")})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Totais"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:D(null!==(f=null===(x=v.infoNutricionalPorcao)||void 0===x?void 0:x.gordurasTotais)&&void 0!==f?f:0,"g")})]})]})]})]})}),v.observacoes&&(0,a.jsx)(c.Z,{title:"Observa\xe7\xf5es",children:(0,a.jsx)("div",{className:"whitespace-pre-line text-gray-700",children:v.observacoes})})]})}},66651:function(e,t,r){"use strict";var a=r(3827);r(64090),t.Z=e=>{let{children:t,variant:r="primary",size:s="md",isLoading:i=!1,fullWidth:c=!1,className:n="",disabled:o,...l}=e,d=o||i?"opacity-50 cursor-not-allowed":"";return(0,a.jsxs)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-[var(--cor-acao)] text-white hover:brightness-90 focus:ring-[var(--cor-acao)]",secondary:"bg-[var(--cor-secundaria)] text-white hover:brightness-90 focus:ring-[var(--cor-secundaria)]",success:"bg-[var(--cor-sucesso)] text-white hover:brightness-90 focus:ring-[var(--cor-sucesso)]",danger:"bg-[var(--cor-erro)] text-white hover:brightness-90 focus:ring-[var(--cor-erro)]",outline:"bg-white text-[var(--cor-texto-principal)] border border-[var(--cor-borda)] hover:bg-gray-50 focus:ring-[var(--cor-acao)]"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[s]," ").concat(c?"w-full":""," ").concat(d," ").concat(n),disabled:o||i,...l,children:[i&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]})}},20200:function(e,t,r){"use strict";r.d(t,{SC:function(){return i},pj:function(){return c}});var a=r(3827),s=r(64090);let i=e=>{let{children:t,className:r="",...s}=e;return(0,a.jsx)("tr",{className:"odd:bg-gray-50 hover:bg-[var(--cor-secundaria)/10] hover:shadow-sm rounded-lg ".concat(r),...s,children:t})},c=e=>{let{children:t,className:r="",compact:s=!1}=e;return(0,a.jsx)("td",{className:"".concat(s?"px-2 py-2":"px-6 py-4"," text-sm ").concat(r),style:{color:"var(--cor-texto-secundario)"},children:t})};t.ZP=e=>{let{headers:t,children:r,className:i="",emptyMessage:c="Nenhum dado encontrado",isLoading:n=!1}=e;return(0,a.jsx)("div",{className:"w-full overflow-x-hidden rounded-lg border ".concat(i),style:{borderColor:"var(--cor-borda)"},children:(0,a.jsxs)("table",{className:"w-full table-fixed divide-y",style:{borderColor:"var(--cor-borda)"},children:[(0,a.jsx)("thead",{className:"bg-gray-100",children:(0,a.jsx)("tr",{children:t.map((e,t)=>(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider",style:{color:"var(--cor-texto-secundario)"},children:e},t))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y",style:{borderColor:"var(--cor-borda)"},children:n?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:t.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:(0,a.jsxs)("div",{className:"flex justify-center items-center py-4",children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{className:"ml-2",children:"Carregando..."})]})})}):s.Children.count(r)>0?r:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:t.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:c})})})]})})}}},function(e){e.O(0,[249,971,69,744],function(){return e(e.s=14795)}),_N_E=e.O()}]);