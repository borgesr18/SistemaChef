(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5184],{13603:function(e,r,n){Promise.resolve().then(n.bind(n,24040))},46993:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return a}});let a=n(84096)._(n(64090)).default.createContext(null)},24040:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return u}});var a=n(3827),t=n(64090),s=n(47907),i=n(57418),o=n(32278),l=n(66651),c=n(14570),d=n(40796);function u(){let e=(0,s.useRouter)(),{registrarUsuario:r,usuarioAtual:n}=(0,c.useUsuarios)(),[u,m]=(0,t.useState)({nome:"",email:"",confirmarEmail:"",senha:"",confirmarSenha:"",role:"viewer"}),[f,h]=(0,t.useState)("");(0,t.useEffect)(()=>{n&&"admin"===n.role||e.replace("/login")},[n,e]);let x=e=>{m({...u,[e.target.name]:e.target.value})},b=async n=>{if(n.preventDefault(),u.email!==u.confirmarEmail){h("Emails n\xe3o conferem");return}if(u.senha!==u.confirmarSenha){h("Senhas n\xe3o conferem");return}if(!await r({nome:u.nome,email:u.email,senha:u.senha,role:u.role})){h("Email j\xe1 cadastrado ou senha fraca");return}e.push("/login")};return n&&"admin"===n.role?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,a.jsxs)(i.Z,{className:"w-96",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsx)(d.Z,{className:"text-2xl"})}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Novo Usu\xe1rio"}),f&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:f}),(0,a.jsx)(o.default,{label:"Nome",name:"nome",value:u.nome,onChange:x,required:!0}),(0,a.jsx)(o.default,{label:"Email",type:"email",name:"email",value:u.email,onChange:x,required:!0}),(0,a.jsx)(o.default,{label:"Confirmar Email",type:"email",name:"confirmarEmail",value:u.confirmarEmail,onChange:x,required:!0}),(0,a.jsx)(o.default,{label:"Senha",type:"password",name:"senha",value:u.senha,onChange:x,required:!0}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"A senha deve ter ao menos 8 caracteres, incluindo letras mai\xfasculas, min\xfasculas, n\xfameros e s\xedmbolos."}),(0,a.jsx)(o.default,{label:"Confirmar Senha",type:"password",name:"confirmarSenha",value:u.confirmarSenha,onChange:x,required:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),(0,a.jsxs)("select",{name:"role",value:u.role,onChange:x,className:"border border-[var(--cor-borda)] rounded-md p-2 w-full",children:[(0,a.jsx)("option",{value:"viewer",children:"Visualizador"}),(0,a.jsx)("option",{value:"editor",children:"Editor"}),(0,a.jsx)("option",{value:"manager",children:"Gerente"}),(0,a.jsx)("option",{value:"admin",children:"Administrador"})]})]}),(0,a.jsx)(l.default,{type:"submit",variant:"primary",fullWidth:!0,children:"Cadastrar"})]})]})}):null}},66651:function(e,r,n){"use strict";n.d(r,{z:function(){return c}});var a=n(3827),t=n(64090),s=n(76371),i=n(49769),o=n(22169);let l=(0,i.j)("inline-flex items-center justify-center rounded-2xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,r)=>{let{className:n,variant:t,size:i,asChild:c=!1,...d}=e,u=c?s.g7:"button";return(0,a.jsx)(u,{className:(0,o.cn)(l({variant:t,size:i,className:n})),ref:r,...d})});c.displayName="Button"},57418:function(e,r,n){"use strict";var a=n(3827);n(64090),r.Z=e=>{let{children:r,title:n,className:t="",footer:s}=e;return(0,a.jsxs)("div",{className:"card overflow-hidden ".concat(t),children:[n&&(0,a.jsx)("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--cor-borda)"},children:(0,a.jsx)("h3",{className:"text-lg font-medium",style:{color:"var(--cor-texto-principal)"},children:n})}),(0,a.jsx)("div",{className:"p-6",children:r}),s&&(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t",style:{borderColor:"var(--cor-borda)"},children:s})]})}},32278:function(e,r,n){"use strict";n.d(r,{I:function(){return i}});var a=n(3827),t=n(64090),s=n(22169);let i=t.forwardRef((e,r)=>{let{className:n,type:t,...i}=e;return(0,a.jsx)("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...i})});i.displayName="Input"},40796:function(e,r,n){"use strict";var a=n(3827),t=n(20703);n(64090),r.Z=e=>{let{className:r="",showTagline:n=!1}=e;return(0,a.jsxs)("span",{className:"inline-flex items-center space-x-2 ".concat(r),children:[(0,a.jsx)(t.default,{src:"/logo.svg",alt:"GastroChef",width:24,height:24}),(0,a.jsx)("span",{className:"font-bold",children:"GastroChef"}),n&&(0,a.jsx)("span",{className:"text-xs whitespace-nowrap",children:"Sistema de Fichas T\xe9cnicas"})]})}},14570:function(e,r,n){"use strict";(0,n(58714).createClientComponentClient)()},22169:function(e,r,n){"use strict";n.d(r,{cn:function(){return s}});var a=n(75504),t=n(51367);function s(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,t.m6)((0,a.W)(r))}}},function(e){e.O(0,[7176,869,8714,2202,2971,8069,1744],function(){return e(e.s=13603)}),_N_E=e.O()}]);