(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9401],{61412:function(e,r,t){Promise.resolve().then(t.bind(t,4837))},47907:function(e,r,t){"use strict";var a=t(15313);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},4837:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var a=t(3827);t(64090);var o=t(47907),s=t(57418),i=t(66651),n=t(27742);function d(){var e;let r=(0,o.useParams)(),t=(0,o.useRouter)(),{obterProdutoPorId:d,removerProduto:c}=(0,n.U)(),l=r.id,u=d(l);return u?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Detalhes do Insumo"}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(i.default,{variant:"outline",onClick:()=>t.push("/produtos"),children:"Voltar"}),(0,a.jsx)(i.default,{variant:"primary",onClick:()=>t.push("/produtos/".concat(l,"/editar")),children:"Editar"}),(0,a.jsx)(i.default,{variant:"danger",onClick:()=>{confirm("Tem certeza que deseja remover este produto?")&&(c(l),t.push("/produtos"))},children:"Remover"})]})]}),(0,a.jsx)(s.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Nome do Insumo"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:u.nome})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Categoria"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:(0,n.obterLabelCategoria)(u.categoria)})]}),u.marca&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Marca"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:u.marca})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Unidade de Medida"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:u.unidadeMedida})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Pre\xe7o"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:(e=u.preco,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Fornecedor"}),(0,a.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:u.fornecedor})]})]}),u.infoNutricional&&(0,a.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informa\xe7\xf5es Nutricionais (por 100g/100ml)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Calorias"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.calorias," kcal"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Carboidratos"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.carboidratos," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Prote\xednas"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.proteinas," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Totais"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.gordurasTotais," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Saturadas"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.gordurasSaturadas," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Gorduras Trans"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.gordurasTrans," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Fibras"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.fibras," g"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"S\xf3dio"}),(0,a.jsxs)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:[u.infoNutricional.sodio," mg"]})]})]})]})]})})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Insumo n\xe3o encontrado"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"O produto que voc\xea est\xe1 procurando n\xe3o existe ou foi removido."}),(0,a.jsx)(i.default,{variant:"primary",onClick:()=>t.push("/produtos"),children:"Voltar para Insumos"})]})}},66651:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var a=t(3827),o=t(64090),s=t(76371),i=t(49769),n=t(22169);let d=(0,i.j)("inline-flex items-center justify-center rounded-2xl text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,r)=>{let{className:t,variant:o,size:i,asChild:c=!1,...l}=e,u=c?s.g7:"button";return(0,a.jsx)(u,{className:(0,n.cn)(d({variant:o,size:i,className:t})),ref:r,...l})});c.displayName="Button"},57418:function(e,r,t){"use strict";var a=t(3827);t(64090),r.Z=e=>{let{children:r,title:t,className:o="",footer:s}=e;return(0,a.jsxs)("div",{className:"card overflow-hidden ".concat(o),children:[t&&(0,a.jsx)("div",{className:"px-6 py-4 border-b",style:{borderColor:"var(--cor-borda)"},children:(0,a.jsx)("h3",{className:"text-lg font-medium",style:{color:"var(--cor-texto-principal)"},children:t})}),(0,a.jsx)("div",{className:"p-6",children:r}),s&&(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t",style:{borderColor:"var(--cor-borda)"},children:s})]})}},32355:function(e,r,t){"use strict";t.d(r,{g:function(){return a},x:function(){return o}});let a=()=>{var e,r;let t=null===(r=document.cookie)||void 0===r?void 0:null===(e=r.split("; ").find(e=>e.startsWith("sb-access-token=")))||void 0===e?void 0:e.split("=")[1];return{Authorization:t?"Bearer ".concat(t):""}},o={get:async e=>await fetch(e,{method:"GET",headers:{...a(),"Content-Type":"application/json"}}),post:async(e,r)=>await fetch(e,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(r)}),put:async(e,r)=>await fetch(e,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(r)}),delete:async e=>await fetch(e,{method:"DELETE",headers:{...a(),"Content-Type":"application/json"}})}},27742:function(e,r,t){"use strict";t.d(r,{U:function(){return i},k:function(){return s}});var a=t(64090),o=t(32355);let s=async()=>{try{let e=await fetch("/api/produtos",{headers:(0,o.g)()});if(!e.ok)throw Error("Erro ao buscar produtos");return(await e.json()).map(e=>{var r,t;return{id:e.id,nome:e.nome,categoriaId:e.categoria,categoriaNome:null===(r=e.categoriaRef)||void 0===r?void 0:r.nome,marca:e.marca,unidadeId:e.unidadeMedida,unidadeNome:null===(t=e.unidadeRef)||void 0===t?void 0:t.nome,preco:Number(e.preco)||0,precoUnitario:e.precoUnitario?Number(e.precoUnitario):void 0,fornecedor:e.fornecedor,pesoEmbalagem:e.pesoEmbalagem?Number(e.pesoEmbalagem):void 0,imagem:e.imagem,ultimaMovimentacao:e.ultimaMovimentacao,infoNutricional:e.infoNutricional?{calorias:Number(e.infoNutricional.calorias),carboidratos:Number(e.infoNutricional.carboidratos),proteinas:Number(e.infoNutricional.proteinas),gordurasTotais:Number(e.infoNutricional.gordurasTotais),gordurasSaturadas:Number(e.infoNutricional.gordurasSaturadas),gordurasTrans:Number(e.infoNutricional.gordurasTrans),fibras:Number(e.infoNutricional.fibras),sodio:Number(e.infoNutricional.sodio)}:void 0}})}catch(e){return console.error("Erro ao buscar produtos da API:",e),[]}},i=()=>{let[e,r]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{i(!0),r(await s()),i(!1)})()},[]),{produtos:e,isLoading:t,adicionarProduto:async e=>{try{let t={...e,precoUnitario:e.pesoEmbalagem?e.preco/e.pesoEmbalagem:void 0},a=await fetch("/api/produtos",{method:"POST",headers:{...(0,o.g)(),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Erro ao adicionar produto");let s=await a.json();return r(e=>[...e,s]),s}catch(e){return console.error("Erro ao adicionar produto:",e),null}},atualizarProduto:async(e,t)=>{try{let a={...t,precoUnitario:t.pesoEmbalagem?t.preco/t.pesoEmbalagem:void 0},s=await fetch("/api/produtos/".concat(e),{method:"PUT",headers:{...(0,o.g)(),"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("Erro ao atualizar produto");let i=await s.json();return r(r=>r.map(r=>r.id===e?i:r)),i}catch(e){return console.error("Erro ao atualizar produto:",e),null}},removerProduto:async e=>{try{if(!(await fetch("/api/produtos/".concat(e),{method:"DELETE",headers:(0,o.g)()})).ok)throw Error("Erro ao remover produto");return r(r=>r.filter(r=>r.id!==e)),!0}catch(e){return console.error("Erro ao remover produto:",e),!1}},obterProdutoPorId:r=>e.find(e=>e.id===r)}}},22169:function(e,r,t){"use strict";t.d(r,{cn:function(){return s}});var a=t(75504),o=t(51367);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.m6)((0,a.W)(r))}}},function(e){e.O(0,[869,2971,8069,1744],function(){return e(e.s=61412)}),_N_E=e.O()}]);