(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7693],{44249:function(e,s,t){Promise.resolve().then(t.bind(t,33134))},47907:function(e,s,t){"use strict";var a=t(15313);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},33134:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(3827),i=t(64090),n=t(32355),o=t(83779);function r(){let{user:e}=(0,o.useAuth)(),[s,t]=(0,i.useState)("insumos"),[r,u]=(0,i.useState)([]),[c,l]=(0,i.useState)(""),[d,h]=(0,i.useState)([]),[m,x]=(0,i.useState)(""),[p,f]=(0,i.useState)([]),[j,g]=(0,i.useState)(""),[b,N]=(0,i.useState)([]);(0,i.useEffect)(()=>{(async()=>{let e=await n.x.get("/api/configuracoes/categorias-insumos");u(await e.json());let s=await n.x.get("/api/configuracoes/unidades");h(await s.json());let t=await n.x.get("/api/configuracoes/categorias-receitas");f(await t.json());let a=await n.x.get("/api/usuarios");N(await a.json())})()},[]);let w=async()=>{if(!c.trim())return;let e=await n.x.post("/api/configuracoes/categorias-insumos",{nome:c});u([...r,await e.json()]),l("")},v=async()=>{if(!m.trim())return;let e=await n.x.post("/api/configuracoes/unidades",{nome:m});h([...d,await e.json()]),x("")},C=async()=>{if(!j.trim())return;let e=await n.x.post("/api/configuracoes/categorias-receitas",{nome:j});f([...p,await e.json()]),g("")};return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Configura\xe7\xf5es do Sistema"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>t("insumos"),className:"insumos"===s?"font-bold":"",children:"Categorias de Insumos"}),(0,a.jsx)("button",{onClick:()=>t("unidades"),className:"unidades"===s?"font-bold":"",children:"Unidades de Medida"}),(0,a.jsx)("button",{onClick:()=>t("receitas"),className:"receitas"===s?"font-bold":"",children:"Categorias de Receitas"}),(0,a.jsx)("button",{onClick:()=>t("usuarios"),className:"usuarios"===s?"font-bold":"",children:"Usu\xe1rios"})]}),"insumos"===s&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Categorias de Insumos"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("input",{value:c,onChange:e=>l(e.target.value),className:"border px-2 py-1 rounded",placeholder:"Nova categoria"}),(0,a.jsx)("button",{onClick:w,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Adicionar"})]}),(0,a.jsx)("ul",{children:r.map(e=>(0,a.jsx)("li",{children:e.nome},e.id))})]}),"unidades"===s&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Unidades de Medida"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("input",{value:m,onChange:e=>x(e.target.value),className:"border px-2 py-1 rounded",placeholder:"Nova unidade"}),(0,a.jsx)("button",{onClick:v,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Adicionar"})]}),(0,a.jsx)("ul",{children:d.map(e=>(0,a.jsx)("li",{children:e.nome},e.id))})]}),"receitas"===s&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Categorias de Receitas"}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,a.jsx)("input",{value:j,onChange:e=>g(e.target.value),className:"border px-2 py-1 rounded",placeholder:"Nova categoria de receita"}),(0,a.jsx)("button",{onClick:C,className:"bg-blue-500 text-white px-4 py-1 rounded",children:"Adicionar"})]}),(0,a.jsx)("ul",{children:p.map(e=>(0,a.jsx)("li",{children:e.nome},e.id))})]}),"usuarios"===s&&(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Usu\xe1rios Cadastrados"}),(0,a.jsx)("ul",{children:b.map(e=>(0,a.jsx)("li",{children:e.email},e.id))})]})]})}},83779:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return u},useAuth:function(){return c}});var a=t(3827),i=t(64090),n=t(47907);let o=(0,t(1877).supabaseBrowser)(),r=(0,i.createContext)(void 0),u=e=>{let{children:s}=e,t=(0,n.useRouter)(),[u,c]=(0,i.useState)(null),[l,d]=(0,i.useState)(null),[h,m]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{var e;let{data:s}=await o.auth.getSession();d(s.session),c((null===(e=s.session)||void 0===e?void 0:e.user)||null),m(!1)})();let{data:{subscription:e}}=o.auth.onAuthStateChange((e,s)=>{d(s),c((null==s?void 0:s.user)||null)});return()=>{e.unsubscribe()}},[]);let x=async(e,s)=>{m(!0);let{data:a,error:i}=await o.auth.signInWithPassword({email:e,password:s});if(i)throw m(!1),i;d(a.session),c(a.session.user),m(!1),t.push("/")},p=async()=>{await o.auth.signOut(),c(null),d(null),t.push("/login")};return(0,a.jsx)(r.Provider,{value:{user:u,session:l,loading:h,login:x,signOut:p},children:s})},c=()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},32355:function(e,s,t){"use strict";t.d(s,{g:function(){return a},x:function(){return i}});let a=()=>{var e,s;let t=null===(s=document.cookie)||void 0===s?void 0:null===(e=s.split("; ").find(e=>e.startsWith("sb-access-token=")))||void 0===e?void 0:e.split("=")[1];return{Authorization:t?"Bearer ".concat(t):""}},i={get:async e=>await fetch(e,{method:"GET",headers:{...a(),"Content-Type":"application/json"}}),post:async(e,s)=>await fetch(e,{method:"POST",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(s)}),put:async(e,s)=>await fetch(e,{method:"PUT",headers:{...a(),"Content-Type":"application/json"},body:JSON.stringify(s)}),delete:async e=>await fetch(e,{method:"DELETE",headers:{...a(),"Content-Type":"application/json"}})}},1877:function(e,s,t){"use strict";(0,t(33837).createBrowserClient)("https://sutmfzcmrlqnocsusiav.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN1dG1memNtcmxxbm9jc3VzaWF2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA1MzgwODMsImV4cCI6MjA2NjExNDA4M30.BQRo64qRNzqB_XGNeSe4jkZ8Mzzji8eUYVbS_nWw8tI")}},function(e){e.O(0,[7176,3837,2971,8069,1744],function(){return e(e.s=44249)}),_N_E=e.O()}]);