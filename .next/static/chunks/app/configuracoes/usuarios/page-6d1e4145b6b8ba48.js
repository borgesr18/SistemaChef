(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6927],{47441:function(e,s,l){Promise.resolve().then(l.bind(l,41534))},41534:function(e,s,l){"use strict";l.r(s);var a=l(3827),n=l(14570),r=l(64090);s.default=()=>{let{usuarios:e,registrarUsuario:s,editarUsuario:l,removerUsuario:t,isLoading:i}=(0,n.useUsuarios)(),[o,d]=(0,r.useState)(!1),[c,h]=(0,r.useState)(null),[u,m]=(0,r.useState)({nome:"",email:"",senha:"",role:"viewer"}),x=()=>{m({nome:"",email:"",senha:"",role:"viewer"}),d(!1),h(null)},p=async()=>{null!==c?await l(c,{nome:u.nome,role:u.role}):await s({nome:u.nome,email:u.email,senha:u.senha,role:u.role}),x()};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Cadastro de Usu\xe1rios"}),(0,a.jsx)("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded mb-4",children:"Novo Usu\xe1rio"}),(o||null!==c)&&(0,a.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsx)("input",{placeholder:"Nome",value:u.nome,onChange:e=>m({...u,nome:e.target.value}),className:"border p-2 rounded"}),(0,a.jsx)("input",{placeholder:"Email",value:u.email,onChange:e=>m({...u,email:e.target.value}),className:"border p-2 rounded",disabled:null!==c}),!c&&(0,a.jsx)("input",{placeholder:"Senha",value:u.senha,onChange:e=>m({...u,senha:e.target.value}),type:"password",className:"border p-2 rounded"}),(0,a.jsxs)("select",{value:u.role,onChange:e=>m({...u,role:e.target.value}),className:"border p-2 rounded",children:[(0,a.jsx)("option",{value:"admin",children:"Administrador"}),(0,a.jsx)("option",{value:"editor",children:"Editor"}),(0,a.jsx)("option",{value:"viewer",children:"Visualizador"}),(0,a.jsx)("option",{value:"manager",children:"Gerente"})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,a.jsx)("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Salvar"}),(0,a.jsx)("button",{onClick:x,className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancelar"})]})]}),(0,a.jsxs)("table",{className:"w-full bg-white rounded shadow",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 text-left",children:[(0,a.jsx)("th",{className:"p-2",children:"Nome"}),(0,a.jsx)("th",{className:"p-2",children:"Email"}),(0,a.jsx)("th",{className:"p-2",children:"Papel"}),(0,a.jsx)("th",{className:"p-2 text-right",children:"A\xe7\xf5es"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsx)("td",{className:"p-2",children:e.nome}),(0,a.jsx)("td",{className:"p-2",children:e.user_id}),(0,a.jsx)("td",{className:"p-2",children:e.role}),(0,a.jsxs)("td",{className:"p-2 text-right space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{h(e.id),m({nome:e.nome,email:"",senha:"",role:e.role})},className:"bg-yellow-400 text-white px-3 py-1 rounded",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>t(e.id),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Remover"})]})]},e.id))})]})]})}},14570:function(e,s,l){"use strict";(0,l(58714).createClientComponentClient)()}},function(e){e.O(0,[7176,8714,2971,8069,1744],function(){return e(e.s=47441)}),_N_E=e.O()}]);